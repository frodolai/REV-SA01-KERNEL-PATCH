From e1236b5e8d513c320ea95f8f99bd5e8500723ccc Mon Sep 17 00:00:00 2001
From: Bingru Tsai <ben_tsai@avalue.com.tw>
Date: Tue, 20 Jan 2015 14:32:49 +0800
Subject: [PATCH 05/17] Modify DDR3 configure for solo-1G

---
 u-boot/board/freescale/mx6q_smarc/flash_header.S | 18 ++++++++++++++----
 1 file changed, 14 insertions(+), 4 deletions(-)

diff --git a/u-boot/board/freescale/mx6q_smarc/flash_header.S b/u-boot/board/freescale/mx6q_smarc/flash_header.S
index 3e23ea7..cbc7b81 100644
--- a/u-boot/board/freescale/mx6q_smarc/flash_header.S
+++ b/u-boot/board/freescale/mx6q_smarc/flash_header.S
@@ -108,10 +108,17 @@ MXC_DCD_ITEM(27, MMDC_P0_BASE_ADDR + 0x800, 0xA1390003)
 MXC_DCD_ITEM(28, MMDC_P0_BASE_ADDR + 0x80c, 0x001F001F)
 MXC_DCD_ITEM(29, MMDC_P0_BASE_ADDR + 0x810, 0x001F001F)
 
+#ifdef  NEW_VERSION_SMARC
+MXC_DCD_ITEM(30, MMDC_P0_BASE_ADDR + 0x83c, 0x4234022C)
+MXC_DCD_ITEM(31, MMDC_P0_BASE_ADDR + 0x840, 0x02100218)
+MXC_DCD_ITEM(32, MMDC_P0_BASE_ADDR + 0x848, 0x42444846)
+MXC_DCD_ITEM(33, MMDC_P0_BASE_ADDR + 0x850, 0x38342C36)
+#else
 MXC_DCD_ITEM(30, MMDC_P0_BASE_ADDR + 0x83c, 0x4224021F)
 MXC_DCD_ITEM(31, MMDC_P0_BASE_ADDR + 0x840, 0x020C020F)
 MXC_DCD_ITEM(32, MMDC_P0_BASE_ADDR + 0x848, 0x4F504D4D)
 MXC_DCD_ITEM(33, MMDC_P0_BASE_ADDR + 0x850, 0x41322E31)
+#endif
 
 MXC_DCD_ITEM(34, MMDC_P0_BASE_ADDR + 0x81c, 0x33333333)
 MXC_DCD_ITEM(35, MMDC_P0_BASE_ADDR + 0x820, 0x33333333)
@@ -122,17 +129,20 @@ MXC_DCD_ITEM(38, MMDC_P0_BASE_ADDR + 0x8b8, 0x00000800)
 
 MXC_DCD_ITEM(39, MMDC_P0_BASE_ADDR + 0x004, 0x0002002D)
 MXC_DCD_ITEM(40, MMDC_P0_BASE_ADDR + 0x008, 0x00333030)
+#ifdef  NEW_VERSION_SMARC
+MXC_DCD_ITEM(41, MMDC_P0_BASE_ADDR + 0x00c, 0x676B5333)
+#else
 MXC_DCD_ITEM(41, MMDC_P0_BASE_ADDR + 0x00c, 0x3F435313)
+#endif
+
 MXC_DCD_ITEM(42, MMDC_P0_BASE_ADDR + 0x010, 0xB66E8B63)
 MXC_DCD_ITEM(43, MMDC_P0_BASE_ADDR + 0x014, 0x01FF00DB)
 MXC_DCD_ITEM(44, MMDC_P0_BASE_ADDR + 0x018, 0x00001740)
 
 MXC_DCD_ITEM(45, MMDC_P0_BASE_ADDR + 0x01c, 0x00008000)
 MXC_DCD_ITEM(46, MMDC_P0_BASE_ADDR + 0x02c, 0x000026d2)
-
-MXC_DCD_ITEM(47, MMDC_P0_BASE_ADDR + 0x030, 0x00431023)
-
-#ifdef	NEW_VERSION_SMARC
+MXC_DCD_ITEM(47, MMDC_P0_BASE_ADDR + 0x030, 0x006B1023)
+#ifdef  NEW_VERSION_SMARC
 MXC_DCD_ITEM(48, MMDC_P0_BASE_ADDR + 0x040, 0x00000027)
 #else
 MXC_DCD_ITEM(48, MMDC_P0_BASE_ADDR + 0x040, 0x00000017)
-- 
1.9.1

