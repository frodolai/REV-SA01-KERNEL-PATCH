From a93e34d1343986c4ef85ff8acc1539718f608791 Mon Sep 17 00:00:00 2001
From: Bingru Tsai <ben_tsai@avalue.com.tw>
Date: Mon, 20 Apr 2015 17:06:44 +0800
Subject: [PATCH 09/17] Change GPIO2 and GPIO3 pin define

---
 kernel/arch/arm/mach-mx6/smarc/rev_sa01.h | 38 ++++++++++++++++++++++---------
 1 file changed, 27 insertions(+), 11 deletions(-)

diff --git a/kernel/arch/arm/mach-mx6/smarc/rev_sa01.h b/kernel/arch/arm/mach-mx6/smarc/rev_sa01.h
index 6f61bea..637859f 100644
--- a/kernel/arch/arm/mach-mx6/smarc/rev_sa01.h
+++ b/kernel/arch/arm/mach-mx6/smarc/rev_sa01.h
@@ -14,36 +14,47 @@
 #define	SMARC_GPIO0			IMX_GPIO_NR(1, 16)
 
 #define	SMARC_GPIO1			IMX_GPIO_NR(1, 17)
-#define	SMARC_CODEC_PWR_EN	IMX_GPIO_NR(1, 17)
+#define	SMARC_CODEC_PWR_EN		IMX_GPIO_NR(1, 17)
 
+#ifdef  CONFIG_MACH_MX6_SMARC_P
+#define	SMARC_GPIO2			IMX_GPIO_NR(2, 3)
+#define	SMARC_GPIO3			IMX_GPIO_NR(2, 4)
+#else
 #define	SMARC_GPIO2			IMX_GPIO_NR(6, 2)
 #define	SMARC_GPIO3			IMX_GPIO_NR(6, 3)
+#endif
+
 #define	SMARC_GPIO4			IMX_GPIO_NR(2, 0)
 
-#define	SMARC_ACCL_INT_IN	IMX_GPIO_NR(1, 18)
+#define	SMARC_ACCL_INT_IN		IMX_GPIO_NR(1, 18)
 #define	SMARC_GPIO5			IMX_GPIO_NR(1, 18)
 
-#define	SMARC_CAN_STBY		IMX_GPIO_NR(6, 31)
+#define	SMARC_CAN_STBY			IMX_GPIO_NR(6, 31)
 #define	SMARC_GPIO6			IMX_GPIO_NR(6, 31)
 
-#define	SMARC_CAN_EN		IMX_GPIO_NR(2, 1)
+#define	SMARC_CAN_EN			IMX_GPIO_NR(2, 1)
 #define	SMARC_GPIO7			IMX_GPIO_NR(2, 1)
 
 #define	SMARC_GPIO8			IMX_GPIO_NR(2, 2)
 #define	SMARC_GPIO9			IMX_GPIO_NR(3, 16)
 
-#define	SMARC_GPIO10		IMX_GPIO_NR(3, 28)
-#define	SMARC_GPIO11		IMX_GPIO_NR(3, 29)
+#define	SMARC_GPIO10			IMX_GPIO_NR(3, 28)
+#define	SMARC_GPIO11			IMX_GPIO_NR(3, 29)
 
-#define	SMARC_SD2_WP		IMX_GPIO_NR(3, 13)
-#define	SMARC_SD2_CD		IMX_GPIO_NR(3, 14)
-#define	SMARC_SD2_PWR_EN	IMX_GPIO_NR(1, 25)
+#define	SMARC_SD2_WP			IMX_GPIO_NR(3, 13)
+#define	SMARC_SD2_CD			IMX_GPIO_NR(3, 14)
+#define	SMARC_SD2_PWR_EN		IMX_GPIO_NR(1, 25)
 
 static iomux_v3_cfg_t mx6q_smarc_gpio_pads[] = {
 	MX6Q_PAD_SD1_DAT0__GPIO_1_16,		// GPIO 0
 	MX6Q_PAD_SD1_DAT1__GPIO_1_17,		// GPIO 1
-	MX6Q_PAD_CSI0_DAT16__GPIO_6_2,		// GPIO 2
+	#ifdef	CONFIG_MACH_MX6_SMARC_P
+	MX6Q_PAD_NANDF_D3__GPIO_2_3,		// GPIO 2
+	MX6Q_PAD_NANDF_D4__GPIO_2_4,		// GPIO 3
+	#else
+	MX6Q_PAD_CSI0_DAT16__GPIO_6_2,          // GPIO 2
 	MX6Q_PAD_CSI0_DAT17__GPIO_6_3,		// GPIO 3
+	#endif
 	MX6Q_PAD_NANDF_D0__GPIO_2_0,		// GPIO 4
 	MX6Q_PAD_SD1_CMD__GPIO_1_18,		// GPIO 5
 	MX6Q_PAD_EIM_BCLK__GPIO_6_31,		// GPIO 6
@@ -119,8 +130,13 @@ static const struct esdhc_platform_data mx6q_smarc_sdio3_data __initconst = {
 static iomux_v3_cfg_t mx6solo_smarc_gpio_pads[] = {
 	MX6DL_PAD_SD1_DAT0__GPIO_1_16,		// GPIO 0
 	MX6DL_PAD_SD1_DAT1__GPIO_1_17,		// GPIO 1
-	MX6DL_PAD_CSI0_DAT16__GPIO_6_2,		// GPIO 2
+	#ifdef  CONFIG_MACH_MX6_SMARC_P
+	MX6DL_PAD_NANDF_D3__GPIO_2_3,		// GPIO 2
+	MX6DL_PAD_NANDF_D4__GPIO_2_4,		// GPIO 3
+	#else
+	MX6DL_PAD_CSI0_DAT16__GPIO_6_2,         // GPIO 2
 	MX6DL_PAD_CSI0_DAT17__GPIO_6_3,		// GPIO 3
+	#endif
 	MX6DL_PAD_NANDF_D0__GPIO_2_0,		// GPIO 4
 	MX6DL_PAD_SD1_CMD__GPIO_1_18,		// GPIO 5
 	MX6DL_PAD_EIM_BCLK__GPIO_6_31,		// GPIO 6
-- 
1.9.1

